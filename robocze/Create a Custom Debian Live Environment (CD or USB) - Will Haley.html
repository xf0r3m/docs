<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>
      Create a Custom Debian Live Environment (CD or USB) - Will Haley
    </title>

    <meta name="author" content="will">
    <meta name="description" content="These are steps that I used on an Ubuntu 20.04 LTS (Focal Fossa) 64-bit system to build an amd64 (64-bit) Debian 10 (Buster) live environment that can boot from...">

    <link rel="stylesheet" href="Create%20a%20Custom%20Debian%20Live%20Environment%20(CD%20or%20USB)%20-%20Will%20Haley_files/main.css">
    <link rel="stylesheet" href="Create%20a%20Custom%20Debian%20Live%20Environment%20(CD%20or%20USB)%20-%20Will%20Haley_files/custom.css">
    <link rel="canonical" href="https://willhaley.com/blog/custom-debian-live-environment/">

    <link rel="manifest" href="https://willhaley.com/manifest.json?version=1.2.0">

    <link rel="shortcut icon" href="https://willhaley.com/favicon.ico?version=1.2.0">
    <link rel="apple-touch-icon" sizes="180x180" href="https://willhaley.com/favicon/apple-touch-icon.png?version=1.2.0">
    <link rel="icon" type="image/png" sizes="32x32" href="https://willhaley.com/favicon/favicon-32x32.png?version=1.2.0">
    <link rel="icon" type="image/png" sizes="16x16" href="https://willhaley.com/favicon/favicon-16x16.png?version=1.2.0">
    <link rel="mask-icon" href="https://willhaley.com/favicon/safari-pinned-tab.svg?version=1.2.0">
    <meta name="msapplication-config" content="/browserconfig.xml?version=1.2.0">
    <meta name="theme-color" content="#ffffff">
  </head>

  <body>
    <header class="site-header" role="banner">
      <div class="wrapper" id="app">
        <a class="site-title" href="https://willhaley.com/">Will Haley</a>

        <nav class="site-nav">
          <input type="checkbox" id="nav-trigger" class="nav-trigger">
          <label for="nav-trigger">
            <span class="menu-icon">
              <svg viewBox="0 0 18 15" width="18px" height="15px">
                <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path>
                <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path>
                <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path>
              </svg>
            </span>
          </label>

          <div class="trigger">
            <a class="page-link" href="https://willhaley.com/clippings/">Clippings</a>
            <a class="page-link" href="https://willhaley.com/favorites/">Favorites</a>
            <a class="page-link pink-link" href="https://willhaley.com/about/">Hire Me!</a>
          </div>
        </nav>
      </div>
    </header>

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope="" itemtype="http://schema.org/BlogPosting">
          <header class="post-header">
            <h1 class="post-title" itemprop="name headline">
              Create a Custom Debian Live Environment (CD or USB)
            </h1>
            <p class="post-meta">
              <time datetime="2018-02-08T18:36:00+00:00" itemprop="datePublished">Feb 8, 2018</time><span class="date-modified">Updated
                <time datetime="2020-06-27T14:11:00+00:00" itemprop="dateModified">Jun 27, 2020</time></span>
            </p>
          </header>

          <div class="post-content" itemprop="articleBody">
            <p>
              These are steps that I used on an
              <strong>Ubuntu 20.04 LTS (Focal Fossa)</strong> 64-bit system to
              build an <strong>amd64 (64-bit) Debian 10 (Buster)</strong> live
              environment that can boot from CD or USB.
            </p>
            <p>
              The live environment generated by this guide is bootable with
              legacy BIOS or modern EFI hardware.
            </p>
            <p>
              <strong>See
                <a href="https://willhaley.com/blog/custom-debian-live-environment-grub-only/">here for the previous version of the guide</a>, which only used GRUB and was written for x86 (32-bit) Debian
                9 using Ubuntu 18.</strong>
            </p>
            <details>
              <summary>On the loss of 32-bit x86 support</summary>
              <section>
                <p>
                  Modern Linux operating systems like Ubuntu, Debian, and Arch
                  <strong>do not support 32-bit</strong> architecture in the
                  kernels on their default live CDs anymore. Neither does this
                  guide. Welcome to the future! It is still entirely possible to
                  adapt this guide for <code>x86</code> (32-bit) support, but
                  that is an exercise for the reader.
                </p>
                <figure class="post-image">
                  <img src="Create%20a%20Custom%20Debian%20Live%20Environment%20(CD%20or%20USB)%20-%20Will%20Haley_files/VirtualBox_Ubuntu%252032_27_06_2020_14_15_40.png" alt="A screenshot from VirtualBox showing a 32-bit Ubuntu VM failing to boot the latest installer iso and displaying an error message">
                  <figcaption>
                    A screenshot from VirtualBox showing a 32-bit Ubuntu VM
                    failing to boot the latest installer iso and displaying an
                    error message
                  </figcaption>
                </figure>
              </section>
            </details>

            <p>
              I wrote this guide more for personal educational purposes than
              anything. It is not necessarily the fastest guide or the best
              guide for your needs. There are many other apps, tutorials,
              walkthroughs, and methods that better accomplish what is in this
              guide.<sup><a href="https://manpages.debian.org/jessie/live-build/live-build.7.en.html">[1]</a><a href="https://help.ubuntu.com/community/mkusb">[2]</a><a href="https://unetbootin.github.io/">[3]</a><a href="https://github.com/jnalley/xixer">[4]</a><a href="https://rufus.akeo.ie/">[5]</a><a href="https://www.pendrivelinux.com/yumi-multiboot-usb-creator/">[6]</a><a href="https://wiki.debian.org/Simple-CDD">[7]</a></sup>
              I hope this guide is helpful all the same.
            </p>
            <p>
              The
              <a href="https://wiki.debian.org/DebianCustomCD">Debian DebianCustomCD documentation</a>
              is more informative than this article could ever be.
            </p>
            <p>
              <strong><span class="warning">Warning</span></strong>: I have
              <strong><span class="warning">highlighted</span></strong> all the
              places you should be in the
              <strong><span class="warning">[chroot]</span></strong>
              environment.&nbsp;Be careful! Running some of these commands on your
              local environment instead of in the
              <a href="https://en.wikipedia.org/wiki/Chroot">chroot</a> can
              damage your system.
            </p>
            <h1 id="prerequisites">Prerequisites</h1>
            <p>Install applications we need to build the environment.</p>
            <pre><code>sudo apt install \
    debootstrap \
    squashfs-tools \
    xorriso \
    isolinux \
    syslinux-efi \
    grub-pc-bin \
    grub-efi-amd64-bin \
    mtools</code></pre>
            <p>
              Create a directory where we will store all of the files we create
              throughout this guide.
            </p>
            <pre><code>mkdir -p $HOME/LIVE_BOOT</code></pre>
            <h1 id="bootstrap-and-configure-debian">
              Bootstrap and Configure Debian
            </h1>
            <p>
              Set up the base Debian environment.&nbsp;I am using
              <code>buster</code> for my distribution and <code>amd64</code> for
              the architecture. Consult the list of
              <a href="https://www.debian.org/mirror/list">debian mirrors</a>.
            </p>
            <p>
              <em>Please change the URL in this command if there is a mirror that
                is closer to you.</em>
            </p>
            <pre><code>sudo debootstrap \
    --arch=amd64 \
    --variant=minbase \
    buster \
    $HOME/LIVE_BOOT/chroot \
    http://ftp.us.debian.org/debian/</code></pre>
            <p>Chroot to the Debian environment we just bootstrapped.</p>
            <pre><code>sudo chroot $HOME/LIVE_BOOT/chroot</code></pre>
            <p>
              <strong><span class="warning">[chroot]</span></strong> Set a
              custom hostname for your Debian environment.
            </p>
            <pre><code>echo "debian-live" &gt; /etc/hostname</code></pre>
            <p>
              <strong><span class="warning">[chroot]</span></strong> Figure out
              which Linux Kernel you want in the live environment.
            </p>
            <pre><code>apt-cache search linux-image</code></pre>
            <p>
              <strong><span class="warning">[chroot]</span></strong> I chose the
              image <code>linux-image-amd64</code>. I also believe
              <code>live-boot</code> is a necessity.
              <code>systemd-sys</code> (or an equivalent) is also necessary to
              provide init.
            </p>
            <pre><code>apt update &amp;&amp; \
apt install --no-install-recommends \
    linux-image-amd64 \
    live-boot \
    systemd-sysv</code></pre>
            <p>
              <strong><span class="warning">[chroot]</span></strong> Install
              programs of your choosing, and then run <code>apt clean</code> to
              save some space. I use <code>--no-install-recommends</code> to
              avoid superfluous packages. You should decide what you need for
              your environment.
            </p>
            <p>
              Read Debian's
              <a href="https://wiki.debian.org/ReduceDebian">ReduceDebian article</a>
              for tips on reducing the size of your Debian environment if size
              is important and you want a minimal and compact installation.
              Please note that some live environments like
              <a href="https://alpinelinux.org/">Alpine Linux</a>,
              <a href="https://en.wikipedia.org/wiki/Tiny_Core_Linux">Tiny Core Linux</a>, and
              <a href="https://en.wikipedia.org/wiki/Puppy_Linux">Puppy Linux</a>
              are specifically optimized for a tiny footprint.
            </p>
            <p>
              Although this article results in a relatively tiny live
              environment, generating an environment that is only a couple dozen
              MB large takes additional effort not covered in this article.
            </p>
            <pre><code>apt install --no-install-recommends \
    network-manager net-tools wireless-tools wpagui \
    curl openssh-client \
    blackbox xserver-xorg-core xserver-xorg xinit xterm \
    nano &amp;&amp; \
apt clean</code></pre>
            <p>
              <strong><span class="warning">[chroot]</span></strong> Set the
              root password. <code>root</code> will be the only user in this
              live environment by default, but you may add additional users as
              needed.
            </p>
            <pre><code>passwd root</code></pre>
            <p>
              <strong><span class="warning">[chroot]</span></strong> Exit the
              chroot.
            </p>
            <pre><code>exit</code></pre>
            <p>
              Create directories that will contain files for our live
              environment files and scratch files.
            </p>
            <pre><code>mkdir -p $HOME/LIVE_BOOT/{staging/{EFI/boot,boot/grub/x86_64-efi,isolinux,live},tmp}</code></pre>
            <p>Compress the chroot environment into a Squash filesystem.</p>
            <pre><code>sudo mksquashfs \
    $HOME/LIVE_BOOT/chroot \
    $HOME/LIVE_BOOT/staging/live/filesystem.squashfs \
    -e boot</code></pre>
            <p>
              Copy the kernel and initramfs from inside the
              <code>chroot</code> to the <code>live</code> directory.
            </p>
            <pre><code>cp $HOME/LIVE_BOOT/chroot/boot/vmlinuz-* \
    $HOME/LIVE_BOOT/staging/live/vmlinuz &amp;&amp; \
cp $HOME/LIVE_BOOT/chroot/boot/initrd.img-* \
    $HOME/LIVE_BOOT/staging/live/initrd</code></pre>
            <h1 id="prepare-boot-loader-menus">Prepare Boot Loader Menus</h1>
            <p>
              Create an ISOLINUX (Syslinux) boot menu. This boot menu is used
              when booting in BIOS/legacy mode.
            </p>
            <pre><code>cat &lt;&lt;'EOF' &gt;$HOME/LIVE_BOOT/staging/isolinux/isolinux.cfg
UI vesamenu.c32

MENU TITLE Boot Menu
DEFAULT linux
TIMEOUT 600
MENU RESOLUTION 640 480
MENU COLOR border       30;44   #40ffffff #a0000000 std
MENU COLOR title        1;36;44 #9033ccff #a0000000 std
MENU COLOR sel          7;37;40 #e0ffffff #20ffffff all
MENU COLOR unsel        37;44   #50ffffff #a0000000 std
MENU COLOR help         37;40   #c0ffffff #a0000000 std
MENU COLOR timeout_msg  37;40   #80ffffff #00000000 std
MENU COLOR timeout      1;37;40 #c0ffffff #00000000 std
MENU COLOR msg07        37;40   #90ffffff #a0000000 std
MENU COLOR tabmsg       31;40   #30ffffff #00000000 std

LABEL linux
  MENU LABEL Debian Live [BIOS/ISOLINUX]
  MENU DEFAULT
  KERNEL /live/vmlinuz
  APPEND initrd=/live/initrd boot=live

LABEL linux
  MENU LABEL Debian Live [BIOS/ISOLINUX] (nomodeset)
  MENU DEFAULT
  KERNEL /live/vmlinuz
  APPEND initrd=/live/initrd boot=live nomodeset
EOF</code></pre>
            <p>
              Create a second, similar, boot menu for GRUB. This boot menu is
              used when booting in EFI/UEFI mode.
            </p>
            <pre><code>cat &lt;&lt;'EOF' &gt;$HOME/LIVE_BOOT/staging/boot/grub/grub.cfg
search --set=root --file /DEBIAN_CUSTOM

set default="0"
set timeout=30

# If X has issues finding screens, experiment with/without nomodeset.

menuentry "Debian Live [EFI/GRUB]" {
    linux ($root)/live/vmlinuz boot=live
    initrd ($root)/live/initrd
}

menuentry "Debian Live [EFI/GRUB] (nomodeset)" {
    linux ($root)/live/vmlinuz boot=live nomodeset
    initrd ($root)/live/initrd
}
EOF</code></pre>
            <p>
              Create a third boot config. This config will be an early
              configuration file that is embedded inside GRUB in the EFI
              partition. This finds the root and loads the GRUB config from
              there.
            </p>
            <pre><code>cat &lt;&lt;'EOF' &gt;$HOME/LIVE_BOOT/tmp/grub-standalone.cfg
search --set=root --file /DEBIAN_CUSTOM
set prefix=($root)/boot/grub/
configfile /boot/grub/grub.cfg
EOF</code></pre>
            <details>
              <summary>Why both GRUB and SYSLINUX?</summary>
              <section>
                <p>
                  Neither GRUB nor SYSLINUX are ideal on their own for both BIOS
                  and EFI booting. Almost every major Linux distribution uses a
                  combination of the two as they both excel in different areas.
                </p>
                <p>
                  That is why I have GRUB in addition to SYSLINUX in this guide.
                </p>
              </section>
            </details>

            <details>
              <summary>Why grub.cfg and grub-standalone.cfg?</summary>
              <section>
                <p>
                  There are a few reasons we have
                  <code>grub-standalone.cfg</code> in addition to
                  <code>grub.cfg</code>.
                </p>
                <p>
                  We <em>could</em> embed all modules and information in the EFI
                  partition, but I think it is more readable and maintainable to
                  separate out the bare-minimum GRUB boot loader in EFI from the
                  human-friendly boot configuration in the root of the device.
                </p>
                <p>
                  Also, I believe that some third-party tools (UNetbootin, YUMI,
                  etc) expect/need to find a sane <code>/boot/grub</code> sort
                  of path on the root device. This guide is not optimized for
                  that use-case, but I want to follow (more or less) best/common
                  practices.
                </p>
              </section>
            </details>

            <p>
              Create a special file in <code>staging</code> named
              <code>DEBIAN_CUSTOM</code>. This file will be used to help GRUB
              figure out which device contains our live filesystem. This file
              name must be unique and must match the file name in our
              <code>grub.cfg</code> config.
            </p>
            <pre><code>touch $HOME/LIVE_BOOT/staging/DEBIAN_CUSTOM</code></pre>
            <p>
              Your <code>LIVE_BOOT</code> directory should now roughly look like
              this.
            </p>
            <pre><code>LIVE_BOOT/chroot/*tons of chroot files*
LIVE_BOOT/staging/live/initrd
LIVE_BOOT/staging/live/vmlinuz
LIVE_BOOT/staging/live/filesystem.squashfs
LIVE_BOOT/staging/isolinux/isolinux.cfg
LIVE_BOOT/staging/EFI/boot
LIVE_BOOT/staging/boot/grub/grub.cfg
LIVE_BOOT/staging/boot/grub/x86_64-efi
LIVE_BOOT/staging/DEBIAN_CUSTOM</code></pre>
            <h2 id="prepare-boot-loader-files">Prepare Boot Loader Files</h2>
            <p>Copy BIOS/legacy boot required files into our workspace.</p>
            <pre><code>cp /usr/lib/ISOLINUX/isolinux.bin "${HOME}/LIVE_BOOT/staging/isolinux/" &amp;&amp; \
cp /usr/lib/syslinux/modules/bios/* "${HOME}/LIVE_BOOT/staging/isolinux/"</code></pre>
            <p>Copy EFI/modern boot required files into our workspace.</p>
            <pre><code>cp -r /usr/lib/grub/x86_64-efi/* "${HOME}/LIVE_BOOT/staging/boot/grub/x86_64-efi/"</code></pre>
            <p>Generate an EFI bootable GRUB image.</p>
            <!-- ```
grub-mkimage \
    --config=$HOME/LIVE_BOOT/staging/boot/grub/grub.cfg \
    --format x86_64-efi \
    --directory=/usr/lib/grub/x86_64-efi \
    --output=$HOME/LIVE_BOOT/tmp/bootx64.efi \
    --prefix=/boot/grub \
    part_msdos fat iso9660 ntfs exfat linux linuxefi normal configfile echo
``` -->
            <pre><code>grub-mkstandalone \
    --format=x86_64-efi \
    --output=$HOME/LIVE_BOOT/tmp/bootx64.efi \
    --locales="" \
    --fonts="" \
    "boot/grub/grub.cfg=$HOME/LIVE_BOOT/tmp/grub-standalone.cfg"</code></pre>
            <p>
              Create a FAT16 UEFI boot disk image containing the EFI bootloader.
              Note the use of the <code>mmd</code> and
              <code>mcopy</code> commands to copy our UEFI boot loader named
              <code>bootx64.efi</code>.
            </p>
            <pre><code>(cd $HOME/LIVE_BOOT/staging/EFI/boot &amp;&amp; \
    dd if=/dev/zero of=efiboot.img bs=1M count=20 &amp;&amp; \
    mkfs.vfat efiboot.img &amp;&amp; \
    mmd -i efiboot.img efi efi/boot &amp;&amp; \
    mcopy -vi efiboot.img $HOME/LIVE_BOOT/tmp/bootx64.efi ::efi/boot/
)</code></pre>
            <h2 id="create-bootable-isocd">Create Bootable ISO/CD</h2>
            <p>
              The <code>.iso</code> file we create can be burned to a CD-ROM
              (optical media) and can also be written to a USB device with
              <code>dd</code>. The process here a bit complex, but that
              resultant behavior is common in many modern live environments such
              as the Ubuntu installation <code>.iso</code> file.
            </p>
            <p>
              <em>Please note that writing an <code>.iso</code> file to a USB
                device is not the same as installing the live environment
                directly to a USB device.</em>
            </p>
            <p>Generate the <code>.iso</code> disc image file.</p>
            <pre><code>xorriso \
    -as mkisofs \
    -iso-level 3 \
    -o "${HOME}/LIVE_BOOT/debian-custom.iso" \
    -full-iso9660-filenames \
    -volid "DEBIAN_CUSTOM" \
    -isohybrid-mbr /usr/lib/ISOLINUX/isohdpfx.bin \
    -eltorito-boot \
        isolinux/isolinux.bin \
        -no-emul-boot \
        -boot-load-size 4 \
        -boot-info-table \
        --eltorito-catalog isolinux/isolinux.cat \
    -eltorito-alt-boot \
        -e /EFI/boot/efiboot.img \
        -no-emul-boot \
        -isohybrid-gpt-basdat \
    -append_partition 2 0xef ${HOME}/LIVE_BOOT/staging/EFI/boot/efiboot.img \
    "${HOME}/LIVE_BOOT/staging"</code></pre>
            <details>
              <summary>
                Using UNetbootin, YUMI, or similar tools to install the ISO to
                USB
              </summary>
              <section>
                <p>
                  If you intend to use one of those tools or something similar
                  please make sure the USB device is FAT32 formatted. I have
                  done very basic FAT32 testing with YUMI and found that the
                  <code>.iso</code> file generated by this guide does work.
                </p>
                <p>
                  If you want EFI support for your YUMI (or whatever) USB device
                  you should verify that the tool you are using supports EFI at
                  all. For example, YUMI has a specific version just for EFI
                  support. Also, please try testing the tool you are using with
                  a mainline Linux OS <code>.iso</code> file like Ubuntu or
                  Debian's and verify it works as you expect before trying
                  to adapt the instructions in this guide.
                </p>
                <p>
                  I have not done extensive testing with these sorts of tools. I
                  have only tested by using <code>dd</code> to directly transfer
                  the <code>.iso</code> file to USB.
                </p>
              </section>
            </details>

            <h1 id="citations">Citations</h1>
            <ul>
              <li>
                <a href="https://www.syslinux.org/archives/2015-April/023381.html">[syslinux] Isohybrid wiki page and UEFI</a>
                <ul>
                  <li>
                    This makes me think syslinux EFI with isohybird will not
                    work!
                  </li>
                </ul>
              </li>
              <li>
                <a href="https://www.syslinux.org/archives/2015-April/023358.html">[syslinux] Is efiboot.img required?</a>
                <ul>
                  <li>
                    See: `This is what i understand from SYSLINUX being unable
                    to boot from ISO 9660 via UEFI.
                  </li>
                </ul>
              </li>
              <li>
                <a href="https://wiki.syslinux.org/wiki/index.php?title=Isohybrid">Isohybrid - Syslinux Wiki</a>
                <ul>
                  <li>
                    Note that it is not clearly expliained <em>how</em> we
                    generate <code>efiboot.img</code>. Every major distro uses
                    Grub <em>and</em> Syslinux for legacy + EFI booting.
                  </li>
                </ul>
              </li>
              <li>
                <a href="https://bbs.archlinux.org/viewtopic.php?pid=1512596#p1512596">[SOLVED] Trying to make Syslinux visually pleasing... /
                  Newbie Corner / Arch Linux Forums</a>
                <ul>
                  <li>Decent SYSLINUX vesa menu colors.</li>
                </ul>
              </li>
              <li>
                <a href="https://wiki.archlinux.org/index.php/GRUB/Tips_and_tricks">GRUB/Tips and tricks - ArchWiki</a>
                <ul>
                  <li>Some good context for grub-mkimage.</li>
                </ul>
              </li>
              <li>
                <a href="https://wiki.gentoo.org/wiki/Syslinux/en#Setup_on_EFI_systems">Syslinux - Gentoo Wiki</a>
              </li>
              <li>
                <a href="https://wiki.syslinux.org/wiki/index.php?title=Library_modules">Library modules - Syslinux Wiki</a>
              </li>
              <li>
                <a href="https://wiki.debian.org/RepackBootableISO">RepackBootableISO - Debian Wiki</a>
              </li>
              <li>
                <a href="https://wiki.syslinux.org/wiki/index.php?title=Install">Install - Syslinux Wiki</a>
              </li>
              <li>
                <a href="https://packages.debian.org/stretch/all/syslinux-efi/filelist">File list of package syslinux-efi in stretch of architecture
                  all</a>
              </li>
              <li>
                <a href="https://linux.die.net/man/8/sgdisk">sgdisk(8) - Linux man page</a>
              </li>
              <li>
                <a href="https://wiki.archlinux.org/index.php/Multiboot_USB_drive#Hybrid_UEFI_GPT_.2B_BIOS_GPT.2FMBR_boot">Hybrid UEFI GPT + BIOS GPT/MBR boot</a>
              </li>
              <li>
                <a href="https://wiki.archlinux.org/index.php/GRUB#.22No_suitable_mode_found.22_error">"No suitable mode found" error</a>
              </li>
              <li>
                <a href="https://askubuntu.com/questions/258991/where-is-the-memtest-option-on-the-ubuntu-64-bit-live-cd">Where is the memtest option on the Ubuntu 64-bit live CD?</a>
              </li>
              <li>
                <a href="https://wiki.archlinux.org/index.php/Remastering_the_Install_ISO">Remastering the Install ISO</a>
              </li>
              <li>
                <a href="https://help.ubuntu.com/community/UEFIBooting#Install_GRUB2_in_.28U.29EFI_systems">Install GRUB2 in (U)EFI systems</a>
              </li>
              <li>
                <a href="https://www.gnu.org/software/grub/manual/grub/html_node/Embedded-configuration.html">6.4 Embedding a configuration file into GRUB</a>
              </li>
              <li>
                <a href="https://askubuntu.com/questions/643938/standalone-grub2-efi-installation-grub-cfg-placement">Standalone Grub2 EFI installation - grub.cfg placement?</a>
              </li>
              <li>
                <a href="https://unix.stackexchange.com/questions/253657/actual-usage-of-grub-mkimage-config">actual usage of 'grub-mkimage --config= '</a>
              </li>
              <li>
                <a href="http://lukeluo.blogspot.com/2013/06/grub-how-to-4-memdisk-and-loopback.html">GRUB2 How To (4): memdisk and loopback device</a>
              </li>
              <li>
                <a href="https://unix.stackexchange.com/questions/267765/how-does-the-grub-efi-loader-find-the-correct-grub-cfg-and-boot-directory">How does the grub efi loader find the correct grub.cfg and
                  boot directory?</a>
              </li>
              <li>
                <a href="https://www.linux.com/learn/how-rescue-non-booting-grub-2-Linux">How to Rescue a Non-booting GRUB 2 on Linux</a>
              </li>
              <li>
                <a href="https://help.ubuntu.com/community/BootFromUSB#Using_a_CD">Using a CD</a>
              </li>
              <li>
                <a href="https://superuser.com/questions/746553/boot-linux-with-extlinux-from-efi-gpt">Boot Linux with extlinux from EFI &amp; GPT</a>
              </li>
              <li>
                <a href="https://blog.fpmurphy.com/2010/06/grub2-modules.html">GRUB2 Modules</a>
              </li>
              <li>
                <a href="https://github.com/coreos/grub/blob/master/util/grub-install.c">grub-install.c</a>
              </li>
              <li>
                <a href="https://help.ubuntu.com/community/Grub2/Troubleshooting">Grub2/Troubleshooting</a>
              </li>
              <li>
                <a href="https://wiki.archlinux.org/index.php/Secure_Boot#Set_up_PreLoader">Set up PreLoader</a>
              </li>
              <li>
                <a href="https://wiki.archlinux.org/index.php/REFInd#Using_PreLoader">Using PreLoader</a>
              </li>
              <li>
                <a href="https://github.com/Mic92/archlive/blob/master/build.sh#L138">build.sh</a>
              </li>
              <li>
                <a href="https://wiki.archlinux.org/index.php/archiso#Installing_packages_from_multilib">Archiso</a>
              </li>
              <li>
                <a href="https://www.syslinux.org/wiki/index.php?title=Menu#The_simple_menu_system">The simple menu system</a>
              </li>
              <li>
                <a href="https://www.syslinux.org/wiki/index.php?title=Isohybrid#UEFI">UEFI</a>
              </li>
              <li>
                <a href="https://www.linuxquestions.org/questions/linux-general-1/make-uefi-bootable-live-cd-926021/">Make UEFI bootable live CD</a>
              </li>
              <li>
                <a href="https://unix.stackexchange.com/questions/285193/what-is-the-proper-way-to-use-isolinux-with-uefi">What is the proper way to use ISOLINUX with UEFI?</a>
              </li>
              <li>
                <a href="https://wiki.debian.org/UEFI#Booting_from_removable_media">Booting from removable media</a>
              </li>
              <li>
                <a href="https://wiki.archlinux.org/index.php/GRUB#UEFI_systems">UEFI systems</a>
              </li>
              <li>
                <a href="https://www.rodsbooks.com/efi-bootloaders/installation.html">Managing EFI Boot Loaders for Linux: EFI Boot Loader
                  Installation</a>
              </li>
              <li>
                <a href="https://wiki.archlinux.org/index.php/syslinux#Boot_prompt">Examples</a>
              </li>
              <li>
                <a href="https://forum.osdev.org/viewtopic.php?t=22169&amp;p=178135">Grub2 El-Torito CD</a>
              </li>
              <li>
                <a href="https://forum.osdev.org/viewtopic.php?f=1&amp;t=23766">Create ISO image with GRUB2</a>
              </li>
              <li>
                <a href="https://wiki.debian.org/DebianLive/MultibootISO">DebianLive MultibootISO</a>
              </li>
              <li>
                <a href="https://www.gnu.org/software/grub/manual/grub/html_node/Images.html">11 GRUB image files</a>
              </li>
              <li>
                <a href="https://www.linuxquestions.org/questions/linux-software-2/stage2_eltorito-missing-884944/">stage2_eltorito missing</a>
              </li>
              <li>
                <a href="https://www.gnu.org/software/grub/manual/legacy/Making-a-GRUB-bootable-CD_002dROM.html">3.4 Making a GRUB bootable CD-ROM</a>
              </li>
              <li>
                <a href="https://unix.stackexchange.com/questions/283994/why-is-grub2-ignoring-kernel-options-when-boot-from-el-torito-on-cd">why is grub2 ignoring kernel options when boot from el torito
                  on CD?</a>
              </li>
              <li>
                <a href="https://communities.vmware.com/message/2228281#2228281">Boot UEFI does not work from CD/DVD</a>
              </li>
              <li>
                <a href="https://communities.vmware.com/message/2583742#2583742">UEFI problem after upgrading to VMWS player 12</a>
              </li>
              <li>
                <a href="https://github.com/linuxkit/linuxkit/blob/master/tools/mkimage-iso-efi/make-efi">make-efi</a>
              </li>
              <li>
                <a href="https://unix.stackexchange.com/questions/382817/uefi-bios-bootable-live-debian-stretch-amd64-with-persistence">UEFI + BIOS bootable live Debian stretch amd64 with
                  persistence</a>
              </li>
            </ul>
          </div>

          <div class="feedback">
            Feel free to
            <a href="https://willhaley.com/contact?post=Create%20a%20Custom%20Debian%20Live%20Environment%20%28CD%20or%20USB%29">contact me</a>
            with questions or feedback regarding this article.
          </div>
        </article>
      </div>
    </main>

    <footer class="site-footer">
      <div class="wrapper">
        <p class="rss-subscribe">
          subscribe <a href="https://willhaley.com/index.xml">via RSS</a>
        </p>
        <h2 class="footer-heading">Will Haley</h2>

        <div class="footer-col-wrapper">
          <div class="footer-col footer-col-1">
            <ul class="contact-list">
              <li>Will Haley</li>
              <li><a href="mailto:"></a></li>
            </ul>
          </div>

          <div class="footer-col footer-col-2">
            <ul class="social-media-list">
              <li>
                <a href="https://github.com/williamhaley"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px">
                      <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"></path>
                    </svg> </span><span class="username">williamhaley</span></a>
              </li>
            </ul>
          </div>

          <div class="footer-col footer-col-3">
            <p></p>
          </div>
        </div>
      </div>
    </footer>

    <script src="Create%20a%20Custom%20Debian%20Live%20Environment%20(CD%20or%20USB)%20-%20Will%20Haley_files/custom.js"></script>
  

</body></html>